module.exports = function() {

  // NOT USED.  CREATED FILE AND THEN UNSURE IF WANTING TO USE
  
  var that = {

    handleOnLoad: function(args, xhrResult) {
      var response;
      var cookies = xhrResult.getResponseHeader('Set-Cookie');
      var header = xhrResult.getResponseHeader("Content-Type");
      if (header.indexOf('application/json') === 0) {
        response = JSON.parse(xhrResult.responseText); }
      else
      if (header.indexOf('text/plain') === 0) {
        response = xhrResult.responseText; }
  
      (args.success) ? args.success(response, xhrResult) : Ti.API.debug('Parse Client: Request Successful');      
    },

    handleOnError: function(args, xhrResult, ignoreCodes) {

      if (xhrResult.status !== 200) {
        Ti.API.debug('jotapi Client: Request FAILED with ' + xhrResult.status +' status code and message: ' + xhrResult.responseText);
        alert('Request FAILED with ' + xhrResult.status +' status code and message: ' + xhrResult.responseText);
      }
  
      var response;
      var header = xhrResult.getResponseHeader("Content-Type");
      if (header && header.indexOf("application/json") === 0) {
        response = JSON.parse(xhrResult.responseText); }
      else
      if (header && header.indexOf("text/plain") === 0) {
        response = xhrResult.responseText; }
   
      (args.error) ? args.error(response,xhrResult) : Ti.API.error('Request Failed: ' + args.url);
      
    }
  };

  return that;
};
